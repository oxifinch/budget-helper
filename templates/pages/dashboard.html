{{define "body"}}
<h2>Dashboard</h2>

<div class="dashboard-summary">
    <p><em>{{ .Budget.StartDate }} - {{ .Budget.EndDate }}</em></p>
    <!-- TODO: Total allocated should be visible in a pop-up menu, not all the time -->
    <p><strong>Total allocated: {{ .Budget.Allocated }} {{ .Budget.Currency }}</strong></p>
    <h3>Remaining budget: {{ .BudgetRemaining }} {{ .Budget.Currency }}</h3>
    <h3>Remaining buffer: {{ .BufferRemaining }} {{ .Budget.Currency }}</h3>
    <hr>
    <!-- TODO: Categories should be visible in a pop-up menu, not all the time -->
    <h2>Categories</h2>
    {{ range .Budget.BudgetCategories }}
        <p style="background-color: {{ .Category.Color }}"><strong>{{ .Category.Name }}</strong></p>  
        <p><em>{{ .Category.Description }}</em></p>
        <h3>Allocated: {{ .Allocated }}</h3>
    {{end}}

    <hr>

    <h2>Transaction Log</h2>
    <div id="list-payments" hx-get="/payments?id={{ .Budget.ID }}" hx-trigger="load">

    </div>

</div>

{{end}}
